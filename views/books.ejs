    <!DOCTYPE html>
    <html lang="en">
        <head>
            <%- include('./partials/head.ejs', { title }) %>
        <link
            rel="stylesheet"
            href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
            integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
            crossorigin="anonymous"
        />
        </head>
        <body>
            <div class="d-flex">
                <%- include('./partials/sidebar.ejs') %>
                <main class="d-flex flex-column align-items-center" style="width: 100%">
                    <h1 class="fw-bold my-3"><%= title %></h1>
                    <div class="table-container" style="width: 80%">
                        <!-- Alert -->
                        <div class="col-auto col-lg-12 mt-2">
                            <% if(alert.message != "") { %>
                                <div class="alert alert-<%= alert.status %>" role="alert">
                                    <%= alert.message %>
                                </div>
                            <% } %>
                        </div>
                        
                        <!-- Button trigger modal -->
                        <button
                          type="button"
                          class="btn btn-outline-primary btn-sm"
                          data-toggle="modal"
                          data-target="#add-modal"
                        >
                        <i class="fs-5 bi bi-plus"></i>
                        </button>
                            <!-- Table of data -->
                            <table 
                                class="table table-bordered" 
                                style="vertical-align: middle" 
                                id="dataTable"
                                width="100%"
                                cellspacing="0"
                            >
                                <thead>
                                    <tr class="text-center">
                                        <th>No</th>
                                        <th>Title</th>
                                        <th>Author</th>
                                        <th>Publisher</th>
                                        <th>Publication Year</th>
                                        <th>Genre</th>
                                        <th>Price</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    
                                    <% for(let i = 0; i < books.length; i++){ %>
                                        <tr>
                                          <td class="text-center"><%= i +1 %></td>
                                          <td><%= books[i].title %></td>
                                          <td><%= books[i].author %></td>
                                          <td><%= books[i].publisher %></td>
                                          <td><%= books[i].publicationYear %></td>
                                          <td><%= books[i].genre%></td>
                                          <td><%= books[i].price %></td>
                                          <td class="text-center">
                                              <form 
                                              action="/books/<%= books[i].id %>?_method=DELETE"
                                              method="POST"
                                              >
                                                <a
                                                  href="javascript:void()"
                                                  class="btn btn-warning btn-sm button-update"
                                                  data-id="<%= books[i].id %>"
                                                  data-title="<%= books[i].title %>"
                                                  data-nim="<%= books[i].author %>"
                                                  data-jurusan="<%= books[i].publisher %>"
                                                  data-publicationYear="<%= books[i].publicationYear %>"
                                                  data-genre="<%= books[i].genre %>"
                                                  data-price="<%= books[i].price %>"
                                                  >Edit</a
                                                >
                                                <button 
                                                    type="submit"
                                                    class="btn btn-outline-danger btn-sm"
                                                    onclick="return confirm('Apa kamu yakin menghapus buku ini?');"
                                                    data-id="<%= books[i].id %>"
                                                    >
                                                  Delete
                                                </button>
                                            </form>
                                          </td>
                                        </tr>
                                    <% } %>
                                </tbody>
                            </table>
                    </div>
                </main>
            </div>

            <!-- ADD BOOK -->
            <div
              class="modal fade"
              id="add-modal"
              tabindex="-1"
              role="dialog"
              aria-labelledby="exampleModalLabel"
              aria-hidden="true"
            >
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Add Book</h5>
                    <button
                      type="button"
                      class="close"
                      data-dismiss="modal"
                      aria-label="Close"
                    >
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <form action="/books" method="POST">
                    <div class="modal-body">
                      <div class="form-group">
                        <label for="title">Title</label>
                        <input
                          type="text"
                          class="form-control"
                          id="title"
                          name="title"
                          placeholder="Enter Title"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <label for="title">Author</label>
                        <input
                          type="text"
                          class="form-control"
                          id="author"
                          name="author"
                          placeholder="Enter Author"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <label for="title">Publisher</label>
                        <input
                          type="text"
                          class="form-control"
                          id="publisher"
                          name="publisher"
                          placeholder="Enter publisher"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <label for="title">publicationYear</label>
                        <input
                          type="text"
                          class="form-control"
                          id="publicationYear"
                          placeholder="Masukan Publication Year"
                          name="publicationYear"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <label for="title">genre</label>
                        <input
                          type="text"
                          class="form-control"
                          id="genre"
                          placeholder="Masukan genre"
                          name="genre"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <label for="title">price</label>
                        <input
                          type="number"
                          class="form-control"
                          id="price"
                          placeholder="Masukan price"
                          name="price"
                          required
                        />
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">
                        Close
                      </button>
                      <button type="submit" class="btn btn-primary">Add</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>

            <!--  EDIT BOOK -->
            <div
            class="modal fade"
            id="edit-modal"
            tabindex="-1"
            role="dialog"
            aria-labelledby="exampleModalLabel"
            aria-hidden="true"
            >
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Edit Book</h5>
                  <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Close"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <form action="/books?_method=PUT" method="POST">
                  <div class="modal-body">
                      <div class="form-group">
                        <label for="title">Title</label>
                        <input
                          type="text"
                          class="form-control title"
                          id="title"
                          name="title"
                          placeholder="Enter Title"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <label for="title">Author</label>
                        <input
                          type="text"
                          class="form-control author"
                          id="author"
                          name="author"
                          placeholder="Enter Author"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <label for="title">Publisher</label>
                        <input
                          type="text"
                          class="form-control publisher"
                          id="publisher"
                          name="publisher"
                          placeholder="Enter publisher"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <label for="title">publicationYear</label>
                        <input
                          type="text"
                          class="form-control publicationYear"
                          id="publicationYear"
                          placeholder="Masukan Publication Year"
                          name="publicationYear"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <label for="title">genre</label>
                        <input
                          type="text"
                          class="form-control genre"
                          id="genre"
                          placeholder="Masukan genre"
                          name="genre"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <label for="title">price</label>
                        <input
                          type="number"
                          class="form-control price"
                          id="price"
                          placeholder="Masukan price"
                          name="price"
                          required
                        />
                      </div>
                    </div>
                  <div class="modal-footer">
                    <input type="hidden" class="id" name="id" />
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                      Close
                    </button>
                    <button type="submit" class="btn btn-primary">Update</button>
                  </div>
                </form>
              </div>
            </div>
            </div>

            <script>

                $("#dataTable").on("click", ".button-update", function () {
                
                let id = $(this).data("id");
                let title = $(this).data("title");
                let author = $(this).data("author");
                let publisher = $(this).data("publisher");
                let publicationYear = $(this).data("publicationYear");
                let genre = $(this).data("genre");
                let price = $(this).data("price");

                $("#edit-modal").modal("show");
                $(".id").val(id);
                $(".title").val(title);
                $(".author").val(author);
                $(".publisher").val(publisher);
                $(".publicationYear").val(publicationYear);
                $(".genre").val(genre);
                $(".price").val(price);
                });
            </script>
            <%- include('./partials/js.ejs') %>
        </body>
    </html>
